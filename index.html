<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ビンゴマシン｜1〜75の数字抽選</title>
<meta name="description" content="1〜75の数字をランダムに抽選できるビンゴマシン。オンラインでイベントやパーティーに活用できます。">
<meta name="keywords" content="ビンゴ,ビンゴマシン,抽選,オンライン,無料">

<!-- OGP設定 -->
<meta property="og:title" content="ビンゴマシン｜1〜75の数字抽選" />
<meta property="og:description" content="1〜75の数字をランダムに抽選できるオンラインビンゴマシン。イベントやパーティーに最適！" />
<meta property="og:image" content="https://bingomachine.kkpwebninja.com/card-bingo-machine.png" />
<meta property="og:url" content="https://bingomachine.kkpwebninja.com" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2LM85GJN0L');
</script>

<style>
  body { font-family: sans-serif; text-align: center; background: #f0f8ff; padding: 20px; }
  h1 { font-size: 2rem; margin-bottom: 1rem; color: #0d47a1; }
  #number { font-size: 3rem; margin: 20px 0; font-weight: bold; }
  button { font-size: 1rem; padding: 10px 20px; margin: 5px; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 3px 5px rgba(0,0,0,0.2); }
  .btn-start { background: #43a047; color: white; }
  .btn-reset { background: #e53935; color: white; }
  #history { margin-top: 1rem; font-size: 1.2rem; line-height: 1.6; }
  .link-section { margin-top: 1.5rem; font-size: 1.1rem; }
  .link-section a { color: #0288d1; text-decoration: none; }
  #footer { margin-top: 2rem; font-size: 0.9rem; color: #555; }
  #footer a { color: #0288d1; text-decoration: none; }
</style>
</head>
<body>
  <h1>ビンゴマシン</h1>
  <div id="number">--</div>
  <button class="btn-start" onclick="drawNumber()">スタート</button>
  <button class="btn-reset" onclick="resetMachine()">リセット</button>
  <div id="history"></div>

  <!-- ビンゴカードへのリンク -->
  <div class="link-section">
    🎴 <a href="https://bingo-card.kkpwebninja.com" target="_blank">ビンゴカードへ</a>
  </div>

  <div id="footer">
    X <a href="https://x.com/kkp_webninja" target="_blank">@kkp_webninja</a><br>
    🏯 <a href="https://kkpwebninja.com" target="_blank">web忍者の本丸</a><br>
    各巻物（アプリ）の入り口は本丸ページに集めているでござる。
  </div>

  <script>
    let numbers = Array.from({length: 75}, (_, i) => i + 1);
    let drawn = [];

    function drawNumber() {
      if (numbers.length === 0) {
        alert("すべての数字が出ました！");
        return;
      }
      const index = Math.floor(Math.random() * numbers.length);
      const number = numbers.splice(index, 1)[0];
      drawn.push(number);
      document.getElementById('number').textContent = number;
      updateHistory();
      saveState();
    }

    function resetMachine() {
      if (!confirm("履歴をリセットしますか？")) return;
      numbers = Array.from({length: 75}, (_, i) => i + 1);
      drawn = [];
      document.getElementById('number').textContent = "--";
      updateHistory();
      localStorage.removeItem('bingoMachineState');
    }

    function updateHistory() {
      const historyDiv = document.getElementById('history');
      historyDiv.textContent = drawn.join(', ');
    }

    function saveState() {
      localStorage.setItem('bingoMachineState', JSON.stringify({ numbers, drawn }));
    }

    function loadState() {
      const saved = localStorage.getItem('bingoMachineState');
      if (!saved) return;
      const state = JSON.parse(saved);
      numbers = state.numbers;
      drawn = state.drawn;
      updateHistory();
    }

    window.onload = loadState;
  </script>
</body>
</html>
